# 건축 외장 마감재 분류 웹 어플리케이션 구현 작업 목록

## 완료된 작업

- [x] 1. 프로젝트 초기 설정 및 환경 구성
  - Python 3.11 가상환경 생성
  - PyTorch, Flask 등 필요한 라이브러리 설치
  - 프로젝트 디렉토리 구조 생성
  - _요구사항: 6.1_

- [x] 2. 데이터 수집 및 정리
  - [x] 2.1 이미지 데이터 수집
    - 5가지 외장재 카테고리별 이미지 수집 (총 931개)
    - brick: 255개, metal: 192개, stone: 205개, stucco: 133개, wood: 146개
    - _요구사항: 1.1, 1.2_

  - [x] 2.2 데이터 재분류 시스템 구현
    - 파일명 기반 자동 재분류 스크립트 작성 (reorganize_data.py)
    - 잘못 분류된 이미지 올바른 폴더로 이동
    - _요구사항: 1.3_

- [x] 3. 이미지 전처리 모듈 구현
  - [x] 3.1 ImageService 클래스 구현
    - 224x224 크기 조정 (비율 유지 + 패딩)
    - RGB 변환 및 정규화
    - ImageNet 정규화 파라미터 적용
    - _요구사항: 2.5, 4.1_

- [x] 4. PyTorch 모델 개발
  - [x] 4.1 ResNet50 전이학습 모델 구현
    - PyTorch ResNet50 기반 모델 구축
    - 마지막 FC 레이어 커스터마이징 (Dropout + Linear)
    - _요구사항: 2.1_

  - [x] 4.2 모델 학습 파이프라인 구현
    - train_pytorch_model.py: 메인 학습 스크립트 (ResNet50, 25 에포크)
    - train_fast_pytorch.py: 빠른 학습 스크립트 (ResNet18, 15 에포크)
    - 80/20 train/validation 분할
    - Adam optimizer, ReduceLROnPlateau scheduler
    - _요구사항: 2.2, 2.3_

  - [x] 4.3 모델 평가 시스템 구현
    - test_pytorch_model.py: 모델 성능 평가 스크립트
    - 클래스별 정확도 계산
    - 혼동 행렬 생성
    - _요구사항: 2.4_

- [x] 5. PyTorch 모델 서비스 구현
  - [x] 5.1 ModelService 클래스 구현
    - 모델 로딩 및 캐싱
    - 이미지 전처리 통합
    - 예측 결과 반환
    - _요구사항: 4.2, 4.3_

- [x] 6. Flask 웹 어플리케이션 구현
  - [x] 6.1 Flask 앱 구조 설정
    - 앱 팩토리 패턴 구현
    - 블루프린트 구조 (api, main)
    - 설정 관리 (settings.py)
    - _요구사항: 6.1, 6.2_

  - [x] 6.2 API 엔드포인트 구현
    - POST /api/predict: 이미지 업로드 분류
    - POST /api/predict-camera: 카메라 이미지 분류
    - GET /api/health: 서버 상태 확인
    - GET /api/classes: 클래스 정보
    - _요구사항: 3.1, 4.4_

  - [x] 6.3 웹 인터페이스 구현
    - 메인 페이지 (templates/index.html)
    - 이미지 업로드 UI
    - 카메라 촬영 기능
    - 결과 표시 UI
    - _요구사항: 3.1, 3.2, 3.4, 3.5_

- [x] 7. 보안 및 검증 시스템 구현
  - [x] 7.1 파일 업로드 검증
    - 파일 크기 제한 (10MB)
    - 파일 형식 검증 (JPG, PNG, WEBP)
    - 이미지 유효성 검사
    - _요구사항: 4.5, 5.1_

  - [x] 7.2 에러 처리 시스템
    - 에러 핸들러 구현
    - 사용자 친화적 에러 메시지
    - 로깅 시스템
    - _요구사항: 5.2_

- [x] 8. 테스트 및 검증
  - [x] 8.1 모델 성능 테스트
    - 검증 데이터 평가: 67.9% 정확도
    - 클래스별 성능 분석
    - _요구사항: 2.4_

  - [x] 8.2 API 통합 테스트
    - test_pytorch_api.py: API 엔드포인트 테스트
    - 10개 샘플 테스트: 90% 정확도
    - _요구사항: 4.3_

- [x] 9. 서버 설정 및 배포 준비
  - [x] 9.1 서버 실행 스크립트
    - run.py: Flask 서버 실행
    - 8000번 포트 설정
    - _요구사항: 6.2, 6.3_

  - [x] 9.2 프로젝트 정리
    - 불필요한 파일 삭제
    - Spec 문서 업데이트
    - _요구사항: 전체_

## 향후 개선 작업

- [ ] 10. 모델 성능 개선
  - [ ] 10.1 데이터 증강
    - 더 많은 wood 클래스 이미지 수집
    - 데이터 증강 기법 적용 (회전, 밝기, 대비)
    - _요구사항: 2.4_

  - [ ] 10.2 모델 재학습
    - 더 긴 학습 (50+ 에포크)
    - 하이퍼파라미터 튜닝
    - 목표: 75%+ 검증 정확도
    - _요구사항: 2.4_

- [ ] 11. 시스템 최적화
  - [ ] 11.1 모델 최적화
    - ONNX 변환 (추론 속도 향상)
    - 모델 양자화 (INT8)
    - _요구사항: 4.3_

  - [ ] 11.2 서버 최적화
    - 모델 캐싱 개선
    - 비동기 처리 구현
    - GPU 지원 추가
    - _요구사항: 5.1_

- [ ] 12. 기능 추가
  - [ ] 12.1 배치 처리
    - 여러 이미지 동시 분류
    - 결과 일괄 다운로드
    - _요구사항: 3.1_

  - [ ] 12.2 사용자 피드백
    - 분류 결과 피드백 수집
    - 오분류 이미지 재학습 데이터로 활용
    - _요구사항: 2.4_

- [ ] 13. 배포 및 운영
  - [ ] 13.1 프로덕션 배포
    - Gunicorn + Nginx 설정
    - HTTPS 설정
    - 도메인 연결
    - _요구사항: 6.1_

  - [ ] 13.2 모니터링
    - 로그 수집 및 분석
    - 성능 모니터링
    - 에러 추적
    - _요구사항: 5.2_
